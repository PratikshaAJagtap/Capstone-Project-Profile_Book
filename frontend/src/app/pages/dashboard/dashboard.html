<div class="dashboard-container">
  <!-- Top Navigation -->
  <mat-toolbar color="primary" class="top-toolbar">
    <button mat-icon-button (click)="sidebarOpen = !sidebarOpen" class="menu-button">
      menu &nbsp; &nbsp;
    </button>
     &nbsp;
     &nbsp;&nbsp;&nbsp;
    <span class="app-title">
      <!-- <mat-icon>people</mat-icon> -->
      <h1>
           ProfileBook
      </h1>
    </span>
    
    <span class="spacer"></span>
    
    <button mat-icon-button [matMenuTriggerFor]="userMenu" class="user-menu-button">
      <mat-icon>user</mat-icon>
    </button>
    
    <mat-menu #userMenu="matMenu">
      <button mat-menu-item (click)="viewProfile()">
        <!-- <mat-icon>person</mat-icon> -->
        <span>Profile</span>
      </button>
      <button mat-menu-item (click)="viewMessages()">
        <!-- <mat-icon>message</mat-icon> -->
        <span>Messages</span>
      </button>
      <mat-divider></mat-divider>
      <button mat-menu-item (click)="logout()">
        <!-- <mat-icon>logout</mat-icon> -->
        <span>Logout</span>
      </button>
    </mat-menu>
  </mat-toolbar>

  <div class="main-content">
    <!-- Sidebar -->
    <mat-sidenav-container class="sidenav-container">
      <mat-sidenav #sidenav [(opened)]="sidebarOpen" mode="side" class="sidebar">
        <mat-nav-list>
          <a mat-list-item routerLink="/dashboard" routerLinkActive="active">
            <!-- <mat-icon matListItemIcon>home</mat-icon> -->
            <span matListItemTitle>Home</span>
          </a>
          
          <a mat-list-item (click)="viewProfile()">
            <!-- <mat-icon matListItemIcon>person</mat-icon> -->
            <span matListItemTitle>Profile</span>
          </a>
          
          <a mat-list-item (click)="viewMessages()">
            <!-- <mat-icon matListItemIcon>message</mat-icon> -->
            <span matListItemTitle>Messages</span>
            <!-- <mat-icon matListItemMeta>circle</mat-icon> -->
          </a>
          
          <a mat-list-item routerLink="/create-post">
            <!-- <mat-icon matListItemIcon>add_circle</mat-icon> -->
            <span matListItemTitle>Create Post</span>
          </a>
          
          <a mat-list-item routerLink="/money-transfer">
            <!-- <mat-icon matListItemIcon>account_balance_wallet</mat-icon> -->
            <span matListItemTitle>Money Transfer</span>
          </a>
          
          <a mat-list-item routerLink="/reviews">
            <!-- <mat-icon matListItemIcon>star</mat-icon> -->
            <span matListItemTitle>Reviews</span>
          </a>
          
          <mat-divider></mat-divider>
          
          <a mat-list-item (click)="logout()">
            <!-- <mat-icon matListItemIcon>logout</mat-icon> -->
            <span matListItemTitle>Logout</span>
          </a>
        </mat-nav-list>
      </mat-sidenav>

      <!-- Main Content Area -->
      <mat-sidenav-content class="content">
        <div class="feed-container">
          <!-- Create Post Card -->
          <mat-card class="create-post-card">
            <mat-card-content>
              <div class="create-post-content">
                <img 
                  [src]="currentUser?.profileImage || 'assets/default-avatar.png'" 
                  alt="Profile" 
                  class="profile-avatar">
                <button mat-stroked-button class="create-post-button" (click)="createPost()">
                  What's on your mind?
                </button>
              </div>
            </mat-card-content>
          </mat-card>

          <!-- Posts Feed -->
          <div class="posts-container" *ngIf="!isLoading">
            <mat-card class="post-card" *ngFor="let post of posts">
              <mat-card-header>
                <img 
                  [src]="post.user?.profileImage || 'assets/default-avatar.png'" 
                  alt="Profile" 
                  class="post-avatar">
                <mat-card-title>{{ post.user?.username || 'Unknown User' }}</mat-card-title>
                <mat-card-subtitle>{{ formatDate(post.timestamp || '') }}</mat-card-subtitle>
                <button mat-icon-button [matMenuTriggerFor]="postMenu" class="post-menu">
                  <mat-icon>more_vert</mat-icon>
                </button>
                
                <mat-menu #postMenu="matMenu">
                  <button mat-menu-item (click)="reportPost(post)">
                    <!-- <mat-icon>report</mat-icon> -->
                    <span>Report</span>
                  </button>
                </mat-menu>
              </mat-card-header>
              
              <mat-card-content>
                <p class="post-content">{{ post.content }}</p>
                <img 
                  *ngIf="post.postImage" 
                  [src]="post.postImage" 
                  alt="Post image" 
                  class="post-image">
              </mat-card-content>
              
              <mat-card-actions class="post-actions">
                <button mat-button (click)="likePost(post)">
                  <!-- <mat-icon>thumb_up</mat-icon> -->
                  <span>Like</span>
                </button>
                <button mat-button (click)="sharePost(post)">
                  <!-- <mat-icon>share</mat-icon> -->
                  <span>Share</span>
                </button>
                <span class="spacer"></span>
                <mat-chip-set>
                  <mat-chip>{{ post.status }}</mat-chip>
                </mat-chip-set>
              </mat-card-actions>
            </mat-card>
          </div>

          <!-- Loading State -->
          <div class="loading-container" *ngIf="isLoading">
            <mat-spinner></mat-spinner>
            <p>Loading posts...</p>
          </div>

          <!-- Empty State -->
          <div class="empty-state" *ngIf="!isLoading && posts.length === 0">
            <!-- <mat-icon class="empty-icon">post_add</mat-icon> -->
            <h3>No posts yet</h3>
            <p>Be the first to share something with your friends!</p>
            <button mat-raised-button color="primary" (click)="createPost()">
              Create Your First Post
            </button>
          </div>
        </div>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>
</div>
